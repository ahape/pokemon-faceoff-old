<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Pokemon</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.1/knockout-latest.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script>
        <script>requirejs(["scripts/viewmodels/app"]);</script>
        <style>
            .pokemon-type { font-family: monospace; }
            .super-effective { color: green; }
            .not-very-effective { color: red; }
            .stats { margin: 10px 0 }
            input[type="number"] { width: 35px; }
        </style>
    </head>
    <body>
        <div id="content">
            <div class="pokemon-list">
                <div class="pokemon" data-bind="with: opponent">
                    <fieldset style="border: 1px dashed red;">
                        <select data-bind="
                            options: $root.pokemon,
                            optionsText: 'name',
                            optionsValue: 'id',
                            value: id"></select>
                            <span class="pokemon-type"
                                data-bind="text: pokemonTypes"></span>
                            <input type="number" 
                                placeholder="Level"
                                data-bind="numberinput: level">
                        </legend>
                        <div class="moves"></div>
                    </fieldset>
                </div>
                <hr>
                <div class="pokemon" data-bind="with: player">
                    <fieldset>
                        <legend>
                            <select data-bind="
                            options: $root.pokemon,
                            optionsText: 'name',
                            optionsValue: 'id',
                            value: id"></select>
                            <span class="pokemon-type"
                                data-bind="text: pokemonTypes"></span>
                            <input type="number" 
                                placeholder="Level"
                                data-bind="numberinput: level">
                        </legend>
                        <div class="stats">
                            <label>HP
                                <input type="number"
                                    data-bind="numberinput: hp">
                                (<input type="number">)
                            </label>
                            <label>ATK
                                <input type="number"
                                    data-bind="numberinput: attack">
                                (<input type="number">)
                            </label>
                            <label>DEF
                                <input type="number"
                                    data-bind="numberinput: defense">
                                (<input type="number">)
                            </label>
                            <label>SPD
                                <input type="number"
                                    data-bind="numberinput: speed">
                                (<input type="number">)
                            </label>
                            <label>SPEC
                                <input type="number"
                                    data-bind="numberinput: special">
                                (<input type="number">)
                            </label>
                        </div>
                        <div class="moves" data-bind="foreach: moves">
                            <div class="move">
                                <sup><em data-bind="text: move().cat"></em></sup>
                                <select data-bind="
                                options: $root.moves,
                                optionsText: 'name',
                                optionsValue: 'name',
                                value: name"></select>
                                <span class="pokemon-type"
                                    data-bind="text: move().type"></span>
                                <em data-bind="
                                text: effectiveness() == 1 ? '' : 'x' + effectiveness(),
                                css: { 
                                    'super-effective': effectiveness() > 1,
                                    'not-very-effective': effectiveness() < 1,
                                }"></em>
                                <strong data-bind="text: hitsUntilKo() + '-hit KO'"></strong>
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
        </div>
    </body>
</html>